---
import ContactUs from "@components/ContactUs.astro";
import Frases from "@components/Frases.astro";
import ProductosHome from "@components/ProductosHome.astro";
import Marcas from "@components/Marcas.astro";
import Miembro from "@components/Miembro.astro";
import Layout from "@layouts/Layout.astro";
import LanguageSwitch from "@components/ui/LenguageSwitch";
---

<Layout title="All for water.">
  <LanguageSwitch client:only="react" />

  <div id="english-content">
    <Frases />
    <ProductosHome />
    <ContactUs />
    <Marcas />
    <Miembro />
  </div>

  <div id="spanish-content" style="display: none;">
    {/* Add your Spanish content here */}
    Spanish content
  </div>
</Layout>

<script is:inline>
  // Fallback for browsers without localStorage or for initial load
  document.addEventListener("DOMContentLoaded", () => {
    const language = localStorage.getItem("language") || "EN";
    const englishContent = document.getElementById("english-content");
    const spanishContent = document.getElementById("spanish-content");

    if (englishContent && spanishContent) {
      if (language === "EN") {
        englishContent.style.display = "block";
        spanishContent.style.display = "none";
      } else {
        englishContent.style.display = "none";
        spanishContent.style.display = "block";
      }
    }
  });
</script>
